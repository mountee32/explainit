<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Question Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css" integrity="sha512-jAp6U33hR4iKKeXy/Rs/tBUs4O4ZDgMxN25cs1Am40N/mh8nKg0k1G/2ndN/bfCGi8YUZf6m3TcUZz6SdQ6mg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="app">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Question Editor</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#questions">Questions</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addQuestionModal">Add Question</button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div id="questions" class="container-fluid mt-4">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Question</th>
                        <th>Skill Level</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="question in questions" :key="question.id">
                        <td>{{ question.id }}</td>
                        <td>{{ question.question }}</td>
                        <td>{{ question.skill }}</td>
                        <td class="text-right">
                            <button type="button" class="btn btn-primary btn-sm" @click="editQuestion(question)">Edit</button>
                            <button type="button" class="btn btn-danger btn-sm" @click="deleteQuestion(question)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="modal" id="addQuestionModal" tabindex="-1" role="dialog" aria-labelledby="addQuestionModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <form @submit.prevent="addQuestion">
                            <div class="modal-header">
                                <h5 class="modal-title" id="addQuestionModalLabel">Add Question</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="question-text">Question:</label>
                                    <textarea id="question-text" class="form-control" rows=" v-model="newQuestion.question"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="skill-level-select">Skill Level:</label>
                                    <select id="skill-level-select" class="form-control" v-model="newQuestion.skill">
                                        <option value="easy">Easy</option>
                                        <option value="medium">Medium</option>
                                        <option value="hard">Hard</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="choice1-text">Choice 1:</label>
                                    <input type="text" id="choice1-text" class="form-control" v-model="newQuestion.choice1">
                                </div>
                                <div class="form-group">
                                    <label for="choice2-text">Choice 2:</label>
                                    <input type="text" id="choice2-text" class="form-control" v-model="newQuestion.choice2">
                                </div>
                                <div class="form-group">
                                    <label for="choice3-text">Choice 3:</label>
                                    <input type="text" id="choice3-text" class="form-control" v-model="newQuestion.choice3">
                                </div>
                                <div class="form-group">
                                    <label for="choice4-text">Choice 4:</label>
                                    <input type="text" id="choice4-text" class="form-control" v-model="newQuestion.choice4">
                                </div>
                                <div class="form-group">
                                    <label for="correct-choice-select">Correct Choice:</label>
                                    <select id="correct-choice-select" class="form-control" v-model="newQuestion.correctChoice">
                                        <option value="1">Choice 1</option>
                                        <option value="2">Choice 2</option>
                                        <option value="3">Choice 3</option>
                                        <option value="4">Choice 4</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="explanation1-text">Explanation 1:</label>
                                    <textarea id="explanation1-text" class="form-control" rows="3" v-model="newQuestion.explanations[0]"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="explanation2-text">Explanation 2:</label>
                                    <textarea id="explanation2-text" class="form-control" rows="3" v-model="newQuestion.explanations[1]"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="explanation3-text">Explanation 3:</label>
                                    <textarea id="explanation3-text" class="form-control" rows="3" v-model="newQuestion.explanations[2]"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="explanation4-text">Explanation 4:</label>
                                    <textarea id="explanation4-text" class="form-control" rows="3" v-model="newQuestion.explanations[3]"></textarea>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Add Question</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="modal" id="editQuestionModal" tabindex="-1" role="dialog" aria-labelledby="editQuestionModalLabel
                        <form v-if="selectedQuestion" @submit.prevent="updateQuestion">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="editQuestionModalLabel">Edit Question</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group">
                                        <label for="question-text">Question:</label>
                                        <textarea id="question-text" class="form-control" rows="3" v-model="selectedQuestion.question"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="skill-level-select">Skill Level:</label>
                                        <select id="skill-level-select" class="form-control" v-model="selectedQuestion.skill">
                                            <option value="easy">Easy</option>
                                            <option value="medium">Medium</option>
                                            <option value="hard">Hard</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="choice1-text">Choice 1:</label>
                                        <input type="text" id="choice1-text" class="form-control" v-model="selectedQuestion.choice1">
                                    </div>
                                    <div class="form-group">
                                        <label for="choice2-text">Choice 2:</label>
                                        <input type="text" id="choice2-text" class="form-control" v-model="selectedQuestion.choice2">
                                    </div>
                                    <div class="form-group">
                                        <label for="choice3-text">Choice 3:</label>
                                        <input type="text" id="choice3-text" class="form-control" v-model="selectedQuestion.choice3">
                                    </div>
                                    <div class="form-group">
                                        <label for="choice4-text">Choice 4:</label>
                                        <input type="text" id="choice4-text" class="form-control" v-model="selectedQuestion.choice4">
                                    </div>
                                    <div class="form-group">
                                        <label for="correct-choice-select">Correct Choice:</label>
                                        <select id="correct-choice-select" class="form-control" v-model="selectedQuestion.correctChoice">
                                            <option value="1">Choice 1</option>
                                            <option value="2">Choice 2</option>
                                            <option value="3">Choice 3</option>
                                            <option value="4">Choice 4</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="explanation1-text">Explanation 1:</label>
                                        <textarea id="explanation1-text" class="form-control" rows="3" v-model="selectedQuestion.explanations[0]"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="explanation2-text">Explanation 2:</label>
                                        <textarea id="explanation2-text" class="form-control" rows="3" v-model="selectedQuestion.explanations[1]"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="explanation3-text">Explanation 3:</label>
                                        <textarea id="explanation3-text" class="form-control" rows="3" v-model="selectedQuestion.explanations[2]"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="explanation4-text">Explanation 4:</label>

                                <textarea id="explanation4-text" class="form-control" rows="3" v-model="selectedQuestion.explanations[3]"></textarea>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save changes</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</template>
<script>
    import axios from 'axios';

    export default {
        data: function() {
            return {
                questions: [],
                selectedQuestion: null,
                newQuestion: {
                    question: '',
                    skill: 'easy',
                    choice1: '',
                    choice2: '',
                    choice3: '',
                    choice4: '',
                    correctChoice: 1,
                    explanations: ['', '', '', '']
                },
                message: '',
                token: 'Jump857571111'
            }
        },
        created: function() {
            this.getQuestions();
        },
        methods: {
            getQuestions: function() {
                axios.get('https://explainit.app/api/questions/read.php', { headers: { 'Authorization': `Bearer ${this.token}` } })
                    .then(response => {
                        this.questions = response.data.records;
                    })
                    .catch(error => {
                        console.log(error);
                    });
            },
            createQuestion: function() {
                axios.post('https://explainit.app/api/questions/create.php', this.newQuestion, { headers: { 'Authorization': `Bearer ${this.token}` } })
                    .then(response => {
                        this.message = response.data.message;
                        this.newQuestion = {
                            question: '',
                            skill: 'easy',
                            choice1: '',
                            choice2: '',
                            choice3: '',
                            choice4: '',
                            correctChoice: 1,
                            explanations: ['', '', '', '']
                        };
                        this.getQuestions();
                    })
                    .catch(error => {
                        console.log(error);
                    });
            },
            deleteQuestion: function(id) {
                if (confirm('Are you sure you want to delete this question?')) {
                    axios.delete(`https://explainit.app/api/questions/delete.php?id=${id}`, { headers: { 'Authorization': `Bearer ${this.token}` } })
                        .then(response => {
                            this.message = response.data.message;
                            this.getQuestions();
                        })
                        .catch(error => {
                            console.log(error);
                        });
                }
            },
            selectQuestion: function(question) {
                this.selectedQuestion = JSON.parse(JSON.stringify(question));
            },
            updateQuestion: function() {
                axios.put(`https://explainit.app/api/questions/update.php?id=${this.selectedQuestion.id}`, this.selectedQuestion, { headers: { 'Authorization': `Bearer ${this.token}` } })
                    .then(response => {
                        this.message = response.data.message;
                        this.getQuestions();
                    })
                    .catch(error => {
                        console.log(error);
                    });
            }
        }
    }
</script>
<style>
    .container {
        margin-top: 20px;
    }

    .alert {
        margin-top: 20px;
    }

    .table td {
        vertical-align: middle;
    }
</style>
<template>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Questions</div>
                    <div class="card-body">
                        <div class="alert alert-success" role="alert" v-if="message !== ''">{{ message }}</div>
                        <div class="row mb-2">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createModal">Add Question</button>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Question</th>
                                        <th>Skill</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="question in questions" :key="question.id">
                                        <td>{{ question.id }}</td>
                                        <td>{{ question.question }}</td>
                                        <td>{{ question.skill }}</td>
                                        <td>
                                            <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#editModal" @click="selectQuestion(question)">Edit</button>
                                            <button type="button" class="btn btn-danger btn-sm" @click="deleteQuestion(question.id)">Delete</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal fade" id="createModal" tabindex="-1" role="dialog" aria-labelledby="createModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <form @submit.prevent="createQuestion">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="createModalLabel">Add Question</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="form-group">
                                                <label for="question-text">Question</label>
                                                <textarea id="question-text" class="form-control" rows="3" v-model="newQuestion.question" required></textarea>
                                            </div>
                                            <div class="form-group">
                                                <label for="skill-select">Skill</label>
                                                <select id="skill-select" class="form-control" v-model="newQuestion.skill" required>
                                                    <option value="easy">Easy</option>
                                                    <option value="medium">Medium</option>
                                                    <option value="hard">Hard</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="choice1-text">Choice 1</label>
                                                <textarea id="choice1-text" class="form-control" rows="2" v-model="newQuestion.choice1" required></textarea>
                                            </div>
                                            <div class="form-group">
                                                <label for="choice2-text">Choice 2</label>
                                                <textarea id="choice2-text" class="form-control" rows="2" v-model="newQuestion.choice2" required></textarea>

                                        </div>
                                        <div class="form-group">
                                            <label for="choice3-text">Choice 3</label>
                                            <textarea id="choice3-text" class="form-control" rows="2" v-model="newQuestion.choice3" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="choice4-text">Choice 4</label>
                                            <textarea id="choice4-text" class="form-control" rows="2" v-model="newQuestion.choice4" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="correct-choice-select">Correct Choice</label>
                                            <select id="correct-choice-select" class="form-control" v-model="newQuestion.correct_choice" required>
                                                <option value="1">Choice 1</option>
                                                <option value="2">Choice 2</option>
                                                <option value="3">Choice 3</option>
                                                <option value="4">Choice 4</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation1-text">Explanation 1</label>
                                            <textarea id="explanation1-text" class="form-control" rows="3" v-model="newQuestion.explanation1" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation2-text">Explanation 2</label>
                                            <textarea id="explanation2-text" class="form-control" rows="3" v-model="newQuestion.explanation2"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation3-text">Explanation 3</label>
                                            <textarea id="explanation3-text" class="form-control" rows="3" v-model="newQuestion.explanation3"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation4-text">Explanation 4</label>
                                            <textarea id="explanation4-text" class="form-control" rows="3" v-model="newQuestion.explanation4"></textarea>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary">Add Question</button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <form @submit.prevent="updateQuestion">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="editModalLabel">Edit Question</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="form-group">
                                            <label for="question-text">Question</label>
                                            <textarea id="question-text" class="form-control" rows="3" v-model="selectedQuestion.question" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="skill-select">Skill</label>
                                            <select id="skill-select" class="form-control" v-model="selectedQuestion.skill" required>
                                                
                                                <option value="easy">Easy</option>
                                                <option value="medium">Medium</option>
                                                <option value="hard">Hard</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="choice1-text">Choice 1</label>
                                            <textarea id="choice1-text" class="form-control" rows="2" v-model="selectedQuestion.choice1" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="choice2-text">Choice 2</label>
                                            <textarea id="choice2-text" class="form-control" rows="2" v-model="selectedQuestion.choice2" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="choice3-text">Choice 3</label>
                                            <textarea id="choice3-text" class="form-control" rows="2" v-model="selectedQuestion.choice3" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="choice4-text">Choice 4</label>
                                            <textarea id="choice4-text" class="form-control" rows="2" v-model="selectedQuestion.choice4" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="correct-choice-select">Correct Choice</label>
                                            <select id="correct-choice-select" class="form-control" v-model="selectedQuestion.correct_choice" required>
                                                <option value="1">Choice 1</option>
                                                <option value="2">Choice 2</option>
                                                <option value="3">Choice 3</option>
                                                <option value="4">Choice 4</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation1-text">Explanation 1</label>
                                            <textarea id="explanation1-text" class="form-control" rows="3" v-model="selectedQuestion.explanation1" required></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation2-text">Explanation 2</label>
                                            <textarea id="explanation2-text" class="form-control" rows="3" v-model="selectedQuestion.explanation2"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation3-text">Explanation 3</label>
                                            <textarea id="explanation3-text" class="form-control" rows="3" v-model="selectedQuestion.explanation3"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="explanation4-text">Explanation 4</label>
                                            <textarea id="explanation4-text" class="form-control" rows="3" v-model="selectedQuestion.explanation4"></textarea>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary">Update Question</button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
            <script>
                new Vue({
                    el: '#app',
                    data: {
                        questions: [],
                        newQuestion: {
                            question: '',
                            skill: 'easy',                           
choice1_text: '',
choice2_text: '',
choice3_text: '',
choice4_text: '',
correct_choice: 1,
explanation1_text: '',
explanation2_text: '',
explanation3_text: '',
explanation4_text: ''
},
selectedQuestion: {
id: '',
question: '',
skill: 'easy',
choice1_text: '',
choice2_text: '',
choice3_text: '',
choice4_text: '',
correct_choice: 1,
explanation1_text: '',
explanation2_text: '',
explanation3_text: '',
explanation4_text: ''
},
searchQuery: ''
},
mounted: function() {
this.getQuestions();
},
methods: {
getQuestions: function() {
axios.get('https://explainit.app/api/read.php')
.then(function(response) {
this.questions = response.data.records;
}.bind(this))
.catch(function(error) {
console.log(error);
});
},
addQuestion: function() {
axios.post('https://explainit.app/api/create.php', this.newQuestion)
.then(function(response) {
if (response.data.message === "Question created.") {
this.newQuestion.question = '';
this.newQuestion.skill = 'easy';
this.newQuestion.choice1_text = '';
this.newQuestion.choice2_text = '';
this.newQuestion.choice3_text = '';
this.newQuestion.choice4_text = '';
this.newQuestion.correct_choice = 1;
this.newQuestion.explanation1_text = '';
this.newQuestion.explanation2_text = '';
this.newQuestion.explanation3_text = '';
this.newQuestion.explanation4_text = '';
this.getQuestions();
} else {
console.log(response.data.message);
}
}.bind(this))
.catch(function(error) {
console.log(error);
});
},
deleteQuestion: function(id) {
if (confirm("Are you sure you want to delete this question?")) {
axios.delete('https://explainit.app/api/delete.php?id=' + id)
.then(function(response) {
if (response.data.message === "Question deleted.") {
this.getQuestions();
} else {
console.log(response.data.message);
}
}.bind(this))
.catch(function(error) {
console.log(error);
});
}
},
selectQuestion: function(question) {
this.selectedQuestion.id = question.id;
this.selectedQuestion.question = question.question;
this.selectedQuestion.skill = question.skill;
this.selectedQuestion.choice1_text = question.choice1_text;
this.selectedQuestion.choice2_text = question.choice2_text;
this.selectedQuestion.choice3_text = question.choice3_text;
this.selectedQuestion.choice4_text = question.choice4_text;
this.selectedQuestion.correct_choice = question.correct_choice;
this.selectedQuestion.explanation1_text = question.explanation1_text;
this.selectedQuestion.explanation2_text = question.explanation2_text;
this.selectedQuestion.explanation3_text = question.explanation3_text;
this.selectedQuestion.explanation4_text = question.explanation4_text;
},
updateQuestion: function() {
axios.put('https://explainit.app/api/update.php?id=' + this.selectedQuestion.id, this.selectedQuestion)
.then(function(response) {
if (response.data.message === "Question updated.") {
this.getQuestions();
} else {
console.log(response.data.message);
}
}.bind(this))
.catch(function(error) {
console.log(error);
});
},
clearSelectedQuestion: function() {
this.selectedQuestion.id = '';
this.selectedQuestion.question = '';

this.selectedQuestion.skill = 'easy';
this.selectedQuestion.choice1_text = '';
this.selectedQuestion.choice2_text = '';
this.selectedQuestion.choice3_text = '';
this.selectedQuestion.choice4_text = '';
this.selectedQuestion.correct_choice = 1;
this.selectedQuestion.explanation1_text = '';
this.selectedQuestion.explanation2_text = '';
this.selectedQuestion.explanation3_text = '';
this.selectedQuestion.explanation4_text = '';
},
filteredQuestions: function() {
var searchQuery = this.searchQuery.trim().toLowerCase();
if (!searchQuery) {
return this.questions;
}
return this.questions.filter(function(question) {
return (
question.question.toLowerCase().includes(searchQuery) ||
question.skill.toLowerCase().includes(searchQuery) ||
question.choice1_text.toLowerCase().includes(searchQuery) ||
question.choice2_text.toLowerCase().includes(searchQuery) ||
question.choice3_text.toLowerCase().includes(searchQuery) ||
question.choice4_text.toLowerCase().includes(searchQuery) ||
question.explanation1_text.toLowerCase().includes(searchQuery) ||
question.explanation2_text.toLowerCase().includes(searchQuery) ||
question.explanation3_text.toLowerCase().includes(searchQuery) ||
question.explanation4_text.toLowerCase().includes(searchQuery)
);
});
},
setSkillClass: function(skill) {
return {
'badge-primary': skill === 'easy',
'badge-warning': skill === 'medium',
'badge-danger': skill === 'hard'
}
}
}
});
</script>
</div>
</div>
</body>

</html>







